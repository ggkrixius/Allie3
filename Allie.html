<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>I'm thankful for you</title>
  <meta name="description" content="A tiny thank-you page." />
  <style>
    :root{
      --bg1:#0f172a; --bg2:#1e293b;
      --accent:#a78bfa; --accent2:#f472b6;
      --text:#e5e7eb; --muted:#cbd5e1;
    }
    html,body{height:100%;}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background: radial-gradient(1200px 800px at 20% 10%, #1a2352 0%, transparent 60%),
                  radial-gradient(1000px 700px at 80% 90%, #40235a 0%, transparent 60%),
                  linear-gradient(160deg, var(--bg1), var(--bg2));
      display:grid; place-items:center; padding:24px;
    }
    .card{
      width:min(720px, 96vw);
      background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border:1px solid rgba(255,255,255,0.12); border-radius:24px;
      box-shadow:0 20px 60px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.08);
      overflow:hidden; backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
      animation: float 6s ease-in-out infinite; position: relative;
    }
    @keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-4px)}100%{transform:translateY(0)}}
    .media{position:relative; aspect-ratio: 3 / 4; background:#111827; overflow:hidden;}
    .media img{width:100%; height:100%; object-fit:cover; display:block; filter:saturate(1.06) contrast(1.02);}
    .content{padding:24px 22px 28px; text-align:center}
    h1{
      margin:6px 0 10px; font-size:clamp(28px, 5vw, 40px); line-height:1.1; letter-spacing:.01em;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      -webkit-background-clip:text; background-clip:text; color:transparent; cursor: pointer;
    }
    p{margin:0 auto; max-width:60ch; color:var(--muted); font-size:clamp(15px, 1.9vw, 18px)}
    #confetti{
      position:absolute; inset:0; pointer-events:none; opacity:1; transition:opacity 1s ease; z-index:5;
    }
    #confetti.fade-out{opacity:0}
    /* Easter-egg modal */
    .egg-scrim{
      position: fixed; inset: 0; background: rgba(0,0,0,0.55);
      backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
      display:none; align-items:center; justify-content:center; z-index:50; opacity:0; transition:opacity .25s ease;
    }
    .egg-scrim.show{display:flex; opacity:1;}
    .egg-modal{
      width:min(560px, 92vw); border-radius:20px;
      background: linear-gradient(180deg, rgba(20,24,45,.9), rgba(12,14,28,.92));
      border:1px solid rgba(255,255,255,0.14);
      box-shadow: 0 20px 60px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.08);
      padding:22px 20px 18px; transform: scale(.96); animation: eggIn .28s ease forwards; position: relative; overflow:hidden;
    }
    @keyframes eggIn{to{transform:scale(1)}}
    .egg-title{
      margin:0 0 6px; font-size:clamp(20px, 4.8vw, 26px); letter-spacing:.01em;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      -webkit-background-clip:text; background-clip:text; color:transparent; text-align:center;
    }
    .egg-text{margin:8px auto 12px; max-width:52ch; font-size:clamp(16px, 2.5vw, 18px); color:#e7eaf3; text-align:center; min-height:1.6em;}
    .egg-close{
      position:absolute; top:8px; right:8px; background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.18); color:#e5e7eb; border-radius:12px;
      padding:6px 10px; font-size:13px; cursor:pointer;
    }
    .egg-glow{position:absolute; inset:-40%; background:
      radial-gradient(600px 220px at 50% -10%, rgba(167,139,250,.15), transparent 60%),
      radial-gradient(600px 220px at 50% 110%, rgba(244,114,182,.10), transparent 60%);
      pointer-events:none; filter: blur(8px);
    }
    .egg-sparkle{
      position:absolute; inset:0; pointer-events:none; z-index:1;
      background:
        radial-gradient(4px 4px at 12% 28%, rgba(255,255,255,.7), transparent 60%),
        radial-gradient(3px 3px at 84% 18%, rgba(255,255,255,.6), transparent 60%),
        radial-gradient(3px 3px at 30% 80%, rgba(255,255,255,.55), transparent 60%);
      opacity:.6; animation: sparkle 2.2s linear infinite;
    }
    @keyframes sparkle{0%{transform:translateY(0)}50%{transform:translateY(-3px)}100%{transform:translateY(0)}}
  </style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="title">
    <!-- Confetti inside card -->
    <canvas id="confetti" aria-hidden="true"></canvas>

    <div class="media" id="photoArea">
      <img src="lil' gup.jpg" alt="Portrait" />
    </div>

    <div class="content">
      <h1 id="title" aria-label="Tap three times for a surprise">I'm thankful for you.</h1>
      <p>For the little things, the surprise laughs, and the way you make ordinary moments feel like highlights. Thanks for being you.</p>

      <!-- YouTube video -->
      <div style="margin-top:20px">
        <iframe width="100%" height="315"
          src="https://www.youtube.com/embed/16ODtFfdiuc?rel=0"
          title="YouTube video player" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe>
      </div>

      <!-- (QR intentionally hidden—keep qr.png only if you want it hosted for printing) -->
      <!--
      <footer>
        <img src="qr.png" alt="QR Code link" style="width:80px; border-radius:8px;">
      </footer>
      -->
    </div>
  </main>

  <!-- Secret Message Modal -->
  <div class="egg-scrim" id="eggScrim" role="dialog" aria-modal="true" aria-labelledby="eggTitle" aria-describedby="eggText">
    <div class="egg-modal">
      <div class="egg-glow"></div>
      <div class="egg-sparkle"></div>
      <button class="egg-close" id="eggClose" aria-label="Close">✕</button>
      <h2 class="egg-title" id="eggTitle">A little secret:</h2>
      <div class="egg-text" id="eggText"></div>
    </div>
  </div>

  <script>
    // Easter egg: triple tap/click title -> animated modal with typewriter text
    (function(){
      const title = document.getElementById('title');
      const scrim = document.getElementById('eggScrim');
      const closeBtn = document.getElementById('eggClose');
      const textEl = document.getElementById('eggText');
      const message = "You're my favorite part of the day";
      let taps = 0, tapTimer;

      function openEgg(){
        scrim.classList.add('show');
        closeBtn.focus();
        textEl.textContent = '';
        let i = 0, speed = 38;
        const typer = () => { if (i <= message.length){ textEl.textContent = message.slice(0, i++); setTimeout(typer, speed); } };
        setTimeout(typer, 140);
        // close events
        function onKey(e){ if (e.key === 'Escape') closeEgg(); }
        function onClickScrim(e){ if (e.target === scrim) closeEgg(); }
        document.addEventListener('keydown', onKey, {once:true});
        scrim.addEventListener('click', onClickScrim, {once:true});
        closeBtn.addEventListener('click', closeEgg, {once:true});
      }
      function closeEgg(){ scrim.classList.remove('show'); }

      title.addEventListener('click', ()=>{
        clearTimeout(tapTimer); taps++;
        if (taps === 3){ taps = 0; openEgg(); return; }
        tapTimer = setTimeout(()=> taps = 0, 600);
      });
    })();

    // Load confetti over the card
    (function(){
      const card = document.querySelector('.card');
      const media = document.getElementById('photoArea');
      const c = document.getElementById('confetti');
      const ctx = c.getContext('2d');

      function sizeCanvas(){
        const { width, height } = card.getBoundingClientRect();
        const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
        c.style.width = width + 'px'; c.style.height = height + 'px';
        c.width = Math.floor(width * dpr); c.height = Math.floor(height * dpr);
        ctx.setTransform(dpr,0,0,dpr,0,0);
      }
      sizeCanvas(); window.addEventListener('resize', sizeCanvas, {passive:true});

      function emitterBounds(){
        const cardRect = card.getBoundingClientRect();
        const mediaRect = media.getBoundingClientRect();
        return { x: mediaRect.left - cardRect.left, y: mediaRect.top - cardRect.top, w: mediaRect.width };
      }

      const colors = ['#f472b6','#a78bfa','#60a5fa','#34d399','#f59e0b','#ef4444','#22d3ee'];
      const shapes = ['rect','circle','triangle'];
      const particles = [];
      const COUNT = 200, gravity = 0.06, drag = 0.995, sideDrift = 0.0015;
      function rand(a,b){ return a + Math.random()*(b-a); }

      const src = emitterBounds();
      for(let i=0;i<COUNT;i++){
        particles.push({
          x: rand(src.x, src.x + src.w), y: src.y - rand(10, 60),
          r: rand(4, 9), a: rand(0, Math.PI*2), va: rand(-0.08, 0.08),
          vx: rand(-0.6, 0.6), vy: rand(0.2, 0.9),
          color: colors[(Math.random()*colors.length)|0],
          shape: shapes[(Math.random()*shapes.length)|0],
          life: rand(4.0, 6.0), born: performance.now()/1000
        });
      }

      let done = false;
      function draw(){
        const now = performance.now()/1000;
        ctx.clearRect(0,0,c.width, c.height);
        let alive = 0;
        for (const p of particles){
          const age = now - p.born; if (age > p.life) continue; alive++;
          p.vx += sideDrift * (Math.sin(now*0.6) * 0.8 + 0.2);
          p.vy += gravity; p.vx *= drag; p.vy *= drag;
          p.x += p.vx; p.y += p.vy; p.a += p.va;

          ctx.save(); ctx.translate(p.x, p.y); ctx.rotate(p.a); ctx.fillStyle = p.color;
          const s = p.r;
          switch(p.shape){
            case 'rect': ctx.fillRect(-s, -s*0.6, s*2, s*1.2); break;
            case 'circle': ctx.beginPath(); ctx.arc(0,0,s,0,Math.PI*2); ctx.fill(); break;
            default: ctx.beginPath(); ctx.moveTo(0,-s); ctx.lineTo(s, s); ctx.lineTo(-s, s); ctx.closePath(); ctx.fill();
          }
          ctx.restore();
        }
        if (alive > 0) requestAnimationFrame(draw);
        else if (!done){ done = true; c.classList.add('fade-out'); setTimeout(()=> c.remove(), 1200); }
      }
      setTimeout(()=> requestAnimationFrame(draw), 250);
    })();
  </script>
</body>
</html>
